Salim TODO :

- Optimiser l'utilisation des authorization service en injectant les data depuis le usecase (ou les rendre stateless)
- Passer le studyName en query tag => emilie


Creatable Visit : Manque Study Custom Logic => Passer dans frontend
Review  : faire une propriete dans visit pour savoir si review disponible a un user en plus de status reviewAvailable ?

Reste Autres :
- Monitoring etude (espace / patient ...)
- Mise en place scheduler
- Monitoring scheduler via tracker
- Orthanc Send to peer
- Connecteur FTP/SFTP
- Dummy Run => Impact sur la db a designer
- Dicom liée aux review  => Impacte sur la db a designer
- QC items Details => Impact sur la db a designer

- OHIF essayer de faire passer le role dans les requetes => Faire un GaelO plugin dans OHIF
pourra modifier cornerstoneWADOImageLoader pour injecter l'etude courante
et devrait pouvoir recuperer des info soit via le useQuery soit via un localstorage


--- Etudes ancillaires ---
=> Ne peut etre creer que les roles que de Reviewer et supervisor
=> Supervisor : Les taches non permise sont bloquée par le usecase en reprenant la study princeps de la ressource ou en verifiant statut ancillary ou pas pour le niveau study
Ne doit pas pouvoir modifier les patients
Ne doit pas pouvoir importer des patients
Ne doit pas pouvoir modifier / delete Visites, QC, Upload, local form
Ne doit pas pouvoir faire les relance d'upload
Doit pouvoir unlock / delete les review
Doit pouvoir faire relance de review
Doit pouvoir acceder au tracker seulement pour reviews
Doit pouvoir acceder aux stats
Doit pouvoir telecharger Dicoms
Doit pouvoir exporter data de l'étude
Doit pouvoir set documentation
Doit pouvoir voir user details

=> Reste avoir Study Service pour limiter les fonctionalité des etudes ancillaires

--- /Etudes ancillaires ---

---- Refactoring Backend ----
Refac pour la lecture eviter de passer par des services pour laisser les services à l'ecriture ?
Dicom Series Service => peut etre evoluer vers un DicomService pour les deux niveaux

Entity :
- Pluger toutes les reponses "data" sur ces entity response
=> GetPossibleUpload => VisitEntity ?
=> GetReviewProgression => Visit + Review_status + Progression entity?
=> GetVisitTree => ?, visit ?

---- /Refactoring Backend ------


**** Tests ***
Test feature : visit et autres (dicom...)
Tests Services à faire
Mock des interfaces pour les uses cases et les services
Les tests ne font pas d'assertion sur
- le tracker => Via un spy ?
- l'envoi de mails => voir doc laravel
Review => tester un scenario de custom conclusion / adjudication


--- Maintenance Tips ---

A executer en post install :
docker-compose run gaelo2 php artisan migrate --seed **ou** php artisan db:migrate --seed

Afficher une nouvelle APP_KEY : (sert a cryptage/decryptage mais pas pour hash)
php artisan key:generate --show

Si dev :
php artisan telescope:install

--- /Maintenance Tips ---
